# Dongeng dari Yus seputar kerjaan

Sejak awal tahun 2024, Yus mulai bekerja di sebuah toko sayur dan buah-buahan dekat rumah. Pekerjaannya memang sederhana, tetapi cukup menarik meskipun membutuhkan kekuatan fisik setiap hari. Pekerjaan yang menguras keringat seperti ini ternyata baik untuk menurunkan kadar gula darah. Setelah bekerja di sana selama setahun, obat-obatan untuk diabetes hampir tidak lagi dibutuhkan.

![Description of gif](https://github.com/FT-cnc/koko/blob/main/Screen-Recording4-ezgif.com-video-to-gif-converter.gif?raw=true)

Pekerjaan Yus lebih banyak berfokus pada sayur-mayur yang datang dalam kondisi segar, terkadang masih disertai bongkahan es di dalam kotaknya. Karena itu, ia perlu mengenakan sarung tangan agar tangannya tidak kram akibat dinginnya es.  

Yus bekerja enam hari dalam seminggu, selama 6 hingga 8 jam per hari. Ia mulai bekerja pukul enam pagi pada hari Jumat, Sabtu, dan Minggu, sementara di hari lainnya ia mulai pukul tujuh pagi. Awalnya, hari liburnya adalah setiap Kamis, tetapi belakangan berubah menjadi Senin.

## Maksud Utama Membagi Cerita Ini

Pertama-tama, ada baiknya Yus menjelaskan terlebih dahulu tujuan utama dari cerita ini. Cerita ini berkaitan dengan hal-hal seperti pencatatan inventaris, tingkat stok, pemesanan ulang otomatis, pemberitahuan kedaluwarsa, dan sebagainya. Prediksi terhadap permintaan dan pasokan memang sangat kompleks, karena tidak hanya bergantung pada loyalitas pelanggan atau tingkat kehadiran dan motivasi karyawan yang menjalankan operasi harian secara rutin, tetapi juga dipengaruhi oleh faktor-faktor politik (misalnya imbauan untuk membeli produk lokal, padahal produk asing masih jauh lebih murah dan berkualitas lebih baik), serta keterbatasan klasik seperti semakin kecilnya kapasitas gudang toko, sementara pusat distribusi cenderung mendorong kelebihan barang ke semua toko.

### Kesetiaan Pelanggan
 
Dengan meningkatnya inflasi dan biaya hidup, muncul berbagai masalah baru, tetapi juga peluang-peluang baru. Ambil contoh negara Singapura, tempat Yus sempat bekerja pada akhir tahun 1990-an. Coba perhatikan tingkat kompensasi karyawan di sana. Secara jujur, banyak data statistik menunjukkan bahwa gaji pegawai biasa tidak mengalami perubahan signifikan selama lebih dari 25 tahun terakhir.

![Description of gif](https://github.com/FT-cnc/koko/blob/main/image5.jpeg?raw=true).

Coba bandingkan dengan UMR di DKI, di mana gaji karyawan setidaknya bisa meningkat hingga puluhan kali lipat dalam kurun waktu yang sama. Bagi mereka yang memiliki daya beli lebih tinggi, mencari barang murah bukanlah sebuah kekhawatiran. Namun, bagi mereka yang dibesarkan dalam lingkungan sederhana, sebesar apa pun pendapatan atau tabungan mereka, tetap saja mereka sangat [**berhati hati dalam berbelanja**](https://e.vnexpress.net/news/tech/personalities/act-broke-stay-rich-world-s-youngest-self-made-woman-billionaire-lucy-guo-behind-scale-ai-shops-at-shein-commutes-in-a-honda-civic-4895788.html)   

Kembali ke soal kesetiaan pelanggan, di tengah pesatnya perkembangan dunia online, banyak toko fisik yang akhirnya gulung tikar. Namun, masih ada segmen pasar yang menawarkan pengalaman pelanggan yang berbeda. Tempat Yus bekerja, misalnya, lebih terasa seperti museum atau titik kumpul karena produk yang dijual tidak murah, kamar mandinya sekelas hotel bintang lima, dan pelayanannya pun jauh berbeda dibandingkan toko-toko diskon lainnya. Bisa dibilang, bisnis toko Yus tidak pernah terlalu khawatir terhadap resesi, karena mayoritas pelanggannya adalah para manula yang masih aktif dan tidak keberatan membelanjakan uang mereka. Tentu saja kita punya kompetitor, tetapi sejauh ini, kita masih mampu membuka 2–3 toko baru setiap tahun, dari total 40 toko yang sudah ada.

### Motivasi Karyawan
Yus bisa dibilang sangat termotivasi secara mandiri, meskipun bukan berasal dari latar belakang yang serba berkecukupan. Sebelum bekerja di sini, Yus sudah berhasil melunasi utang dan kredit pemilikan rumah (KPR). Di saat banyak orang masih bingung memikirkan makanan sehari-hari dan bagaimana membayar sewa—belum lagi meningkatnya biaya untuk membesarkan anak—Yus merasa cukup beruntung. Sebelum meninggalkan Indonesia, ia sempat bekerja di Batam dan banyak belajar dari keterbatasan di lingkungan pabrik, lalu menerapkan berbagai pemikiran serupa di tempat kerja yang sekarang.  

Yus juga mengikuti kuliah malam di bidang mesin bubut, dari Senin hingga Jumat selama enam jam per hari. Dari sisi kehadiran, Yus termasuk yang paling dapat diandalkan—selalu hadir, baik di sekolah maupun di tempat kerja. Tentunya, hal ini tidak selalu mudah bagi keluarga yang kadang merasa kesepian. Namun, bagi Yus, motivasi utama bekerja di sini adalah untuk membakar kalori.

### Unsur Politik
Produk-produk dari Amerika Latin, Timur Tengah, Eropa, dan Asia Tenggara mulai berdatangan. Secara perlahan, ketergantungan terhadap negara jiran mulai dikurangi. Namun, selama musim dingin, negara jiran masih mampu memasok barang dari wilayah beriklim tropis. Saat cuaca mulai menghangat, rantai pasok beralih kembali ke para petani lokal.  

Kecintaan terhadap produk lokal tentu patut diapresiasi, tetapi keandalan pasokannya masih diragukan, mengingat pertanian dalam ruangan (indoor farming) masih terlalu mahal untuk dioperasikan. Belum lagi gagasan seperti pertanian vertikal (vertical farming), yang meskipun bukan hal baru, tetap tergolong [**mahal**](https://agfundernews.com/the-economics-of-local-vertical-and-greenhouse-farming-are-getting-competitive) dalam praktiknya.

### Rantai Pasok

Topik ini memang cukup kompleks karena mencakup berbagai aspek, terutama dari sisi teknologi. Salah satu hal yang paling sering disorot adalah kecerdasan buatan dari mesin yang mampu melakukan prediksi. Pencatatan inventaris, tingkat stok, pemesanan ulang otomatis, maupun notifikasi kedaluwarsa hanyalah sebagian dari tantangan dalam rantai pasok.  

Untuk mempersempit ruang lingkup pembahasan, Yus akan fokus pada cerita tentang bagaimana kecerdasan buatan membantu pencatatan inventaris melalui foto pertama di atas, serta bagaimana daftar produk dihasilkan melalui pengolahan citra. Tingkat stok sangat dipengaruhi oleh kualitas barang yang diterima dan bagaimana seluruh tim bekerja sama dalam menangani produk. Misalnya, dalam penanganan sayur-mayur, bisa saja barang yang datang sudah membusuk, atau menjadi rusak karena terlambat ditangani dan dijual.  

Sistem pemesanan ulang otomatis pun masih belum sepenuhnya berjalan optimal. Meskipun sistem dapat memberikan rekomendasi, prosesnya masih banyak melibatkan intervensi manual untuk melakukan pemesanan resmi. Kualitas barang yang diterima pun sangat bervariasi; dunia pertanian tidak setepat dunia industri semen, misalnya. Kadang barang yang datang tampak segar dan besar, kadang justru kecil dan layu. Di sinilah peran Yus untuk menyusun dan menata ulang agar tampilannya tetap menarik.  

Dari sisi notifikasi kedaluwarsa yang terkait dengan permintaan, sistem sudah berjalan dengan baik—harga barang yang turun dalam rentang waktu tertentu dapat kembali ke harga normal. Sementara dari sisi pasokan, mulai terlihat peningkatan kontribusi dari petani lokal yang menggantikan peran petani dari negara tetangga, berkat penggunaan teknologi konvensional yang mampu menghasilkan sayur dengan harga dan kualitas yang setara.

## Pengolahan Citra

Dari sisi teknis, ada cerita lain yang tak kalah menarik di balik keringat, peluh, dan aktivitas angkat-mengangkat dalam pekerjaan ini. Coba perhatikan gambar di atas yang memperlihatkan dinamika pergerakan barang di gudang belakang selama dua minggu terakhir.  

Bekerja di dalam ruang pendingin sebenarnya terasa lebih nyaman, karena suhunya stabil di kisaran 4–5 derajat Celsius. Saat musim panas tiba, tempat ini justru menjadi lokasi kerja yang cukup menyenangkan.

![Description of gif](https://github.com/FT-cnc/koko/blob/main/image1.jpg?raw=true)



![Description of gif](https://github.com/FT-cnc/koko/blob/main/image2.png?raw=true)

Coba perhatikan tulisan di dalam kotak kuning pada gambar di atas. "SPIN" adalah singkatan dari "spinach" (bayam). Dalam hal ini, teknologi pengolahan citra sangat membantu dalam menafsirkan tulisan yang tertera di masing-masing kotak.  

Metode lama biasanya hanya melibatkan pengambilan gambar dan pencatatan ulang inventaris gudang secara manual, berdasarkan tulisan yang terlihat pada masing-masing kotak. Pendekatan semacam ini cukup memakan waktu dan rentan terhadap kesalahan.  

Dengan pendekatan baru, kita dapat melewati proses manual tersebut dan langsung masuk ke tahap klasifikasi serta pengelompokan data secara otomatis, seperti yang akan dijelaskan berikut ini.  

Dengan menggunakan akun Google, Anda dapat mencoba contoh program yang tersedia melalui tautan berikut [**ini**](https://colab.research.google.com/drive/1HpR8_-ui5gHZwDNVXjsHyiys8EkRUs3I#scrollTo=5MCn6m648yV-). Silakan simak dan eksplorasi bagaimana teknologi ini bekerja dalam praktik dimana akan dibahas satu per satu.

## Unggah Gambar
Salah satu keterbatasan google colab yang kita pakai di sini adalah dihapusnya segala macam gambar secara otomatis kalau notebooknya tidak aktif selama sejam lebih. Tujuannya memang buat menghemat biaya.
Teknologi cloud computing sekarang memang luar biasa karena kita tidak perlu meng install apa pun namun beban kerja di data center yang dalam hal ini dimiliki Google juga sangat berat apalagi mereka tidak mendapat income dari iklan.
Singkat kata mari kita simak bagaimana caranya menyimpan gambar secara permanen tanpa harus diupload lagi satu per satu.

![Description of gif](https://github.com/FT-cnc/koko/blob/main/image3.png?raw=true)

Gambar di atas ini adalah contoh 20 macam tipe barang dengan 3 variasi tulisan tangan Yus. Totalnya dalam hal ini ada 60 gambar. Dalam kondisi nyata tipe barang bisa mencapai 40 macam dan idealnya variasi tulisan tangan harus lebih dari tiga.
Semakin banyak variasinya, semakin pintar kecerdasan buatan menafsirkan tiap tiap tulisan.

Di bawah ini adalah salah satu contoh tulisan tangan yang di digitalisasi dengan numpy array (istilah canggih dari bahasa [**python**](https://en.wikipedia.org/wiki/NumPy)).
Coba ligat salah satu tulisan tangan berikut dengan resolusi (176, 394) yang menampilkan tulisan Boston.

```txt
import numpy as np
from PIL import Image
gray_array01 = np.array(Image.open("/content/boston1.jpeg").convert("L"))
for row in gray_array01:
    print(' '.join(f'{int(val):03}' for val in row))
```

![Description of gif](https://github.com/FT-cnc/koko/blob/main/image6.gif?raw=true)


Gambar di atas adalah salah satu contoh tulisan tangan yang di digitalisasi. Keseluruhan contoh yang disediakan di sini disimpan di dalam variable berikut
```txt
gray_array01 --> sampel tulisan tangan boston (boston lettuce) yang pertama
gray_array02 --> sampel tulisan tangan boston (boston lettuce) yang kedua
gray_array03 --> sampel tulisan tangan boston (boston lettuce) yang ketiga
gray_array04 --> sampel tulisan tangan green  (green leaf lettuce) yang pertama
gray_array05 --> sampel tulisan tangan green  (green leaf lettuce) yang kedua
gray_array06 --> sampel tulisan tangan green  (green leaf lettuce) yang ketiga
gray_array07 --> sampel tulisan tangan red    (red leaf lettuce) yang pertama
gray_array08 --> sampel tulisan tangan red    (red leaf lettuce) yang kedua
gray_array09 --> sampel tulisan tangan red    (red leaf lettuce) yang ketiga
gray_array10 --> sampel tulisan tangan r.chard (red chard) yang pertama
gray_array11 --> sampel tulisan tangan r.chard (red chard) yang kedua
gray_array12 --> sampel tulisan tangan r.chard (red chard) yang ketiga
gray_array13 --> sampel tulisan tangan g.chard (green chard) yang pertama
gray_array14 --> sampel tulisan tangan g.chard (green chard) yang kedua
gray_array15 --> sampel tulisan tangan g.chard (green chard) yang ketiga
gray_array16 --> sampel tulisan tangan romaine (romaine lettuce) yang pertama
gray_array17 --> sampel tulisan tangan romaine (romaine lettuce) yang kedua
gray_array18 --> sampel tulisan tangan romaine (romaine lettuce) yang ketiga
gray_array19 --> sampel tulisan tangan plain (plain parsley) yang pertama
gray_array20 --> sampel tulisan tangan plain (plain parsley) yang kedua
gray_array21 --> sampel tulisan tangan plain (plain parsley) yang ketiga
gray_array22 --> sampel tulisan tangan curly (curly parsley) yang pertama
gray_array23 --> sampel tulisan tangan curly (curly parsley) yang kedua
gray_array24 --> sampel tulisan tangan curly (curly parsley) yang ketiga
gray_array28 --> sampel tulisan tangan dill yang pertama
gray_array29 --> sampel tulisan tangan dill yang kedua
gray_array30 --> sampel tulisan tangan dill yang ketiga
gray_array31 --> sampel tulisan tangan beet yang pertama
gray_array32 --> sampel tulisan tangan beet yang kedua
gray_array33 --> sampel tulisan tangan beet yang ketiga
gray_array34 --> sampel tulisan tangan leek yang pertama
gray_array35 --> sampel tulisan tangan leek yang kedua
gray_array36 --> sampel tulisan tangan leek yang ketiga
gray_array37 --> sampel tulisan tangan cilan (cilantro) yang pertama
gray_array38 --> sampel tulisan tangan cilan (cilantro) yang kedua
gray_array39 --> sampel tulisan tangan cilan (cilantro) yang ketiga
gray_array40 --> sampel tulisan tangan spin (spinach) yang pertama
gray_array41 --> sampel tulisan tangan spin (spinach) yang kedua
gray_array42 --> sampel tulisan tangan spin (spinach) yang ketiga
gray_array43 --> sampel tulisan tangan collard yang pertama
gray_array44 --> sampel tulisan tangan collard yang kedua
gray_array45 --> sampel tulisan tangan collard yang ketiga
gray_array46 --> sampel tulisan tangan dand (dandelion) yang pertama
gray_array47 --> sampel tulisan tangan dand (dandelion) yang kedua
gray_array48 --> sampel tulisan tangan dand (dandelion) yang ketiga
gray_array49 --> sampel tulisan tangan g.kale (green kale) yang pertama
gray_array50 --> sampel tulisan tangan g.kale (green kale) yang kedua
gray_array51 --> sampel tulisan tangan g.kale (green kale) yang ketiga
gray_array52 --> sampel tulisan tangan b.kale (black kale) yang pertama
gray_array53 --> sampel tulisan tangan b.kale (black kale) yang kedua
gray_array54 --> sampel tulisan tangan b.kale (black kale) yang ketiga
gray_array55 --> sampel tulisan tangan carr (carrot) yang pertama
gray_array56 --> sampel tulisan tangan carr (carrot) yang kedua
gray_array57 --> sampel tulisan tangan carr (carrot) yang ketiga
gray_array58 --> sampel tulisan tangan endive yang pertama
gray_array59 --> sampel tulisan tangan endive yang kedua
gray_array60 --> sampel tulisan tangan endive yang ketiga
gray_array61 --> sampel tulisan tangan esc (escarole) yang pertama
gray_array62 --> sampel tulisan tangan esc (escarole) yang kedua
gray_array63 --> sampel tulisan tangan esc (escarole) yang ketiga
```
Selanjutnya Yus pilih logistic regression untuk melatih model kecerdasan buatan membedakan tulisan.
Namun beleumnya Yus akan menggantikan dimensi gambar yang 176 X 394 menjadi satu dimensi (1 x 69344).

```txt
import numpy as np

# Collect available array variables (excluding the missing ones)
valid_indices = [i for i in range(1, 64) if i not in (25, 26, 27)]
array_list = [globals()[f'gray_array{i:02d}'] for i in valid_indices]

# Stack the arrays along a new first axis
X_train = np.stack(array_list)

print(X_train.shape)    # -->  akan memberi nilai (60, 176, 394)
X_TRAIN=X_train.reshape(60,-1)
y_train = np.repeat(np.arange(1, 21), 3).astype(np.uint8)
print(X_TRAIN.shape)    # --> akan memberi nilai (60, 69344)
print(y_train.shape)    # --> memberi nilai 60

from sklearn.linear_model import LogisticRegression
lr = LogisticRegression()
lr.fit(X_TRAIN, y_train)

```

Selanjtnya kita coba menge test model ini dengan gambar gray_array13 misalnya.

```txt
lr.predict_proba(gray_array13.reshape(1,-1))
```

Yang mana hasilnya akan seperti ini

```txt
array([[1.64642986e-15, 3.71669177e-12, 6.82949909e-13, 7.64134141e-19,
        9.99999959e-01, 4.44299443e-16, 8.02623005e-12, 3.32164451e-15,
        9.26804467e-12, 1.41511848e-15, 2.41060830e-12, 1.51412174e-08,
        6.32193493e-09, 3.39862388e-16, 7.77069733e-10, 3.09824108e-09,
        2.67960481e-13, 1.52454169e-08, 4.52316575e-13, 1.88269702e-13]])
```

Supaya  lebih mudah dimengerti kita tambahkan varibel berikut ini

```txt
class_names = 'boston_lettuce green_leaf_lettuce red_leaf_lettuce red_swiss_chard green_swiss_chard romaine_lettuce plain_parsley curly_parsley dill beets leeks cilantro spinach collard dandelion green_kale black_kale carrot endive escarole'.split()
len(class_names)
```

Akhirnya kita bisa menggunakan model kecerdasan buatan ini dengan cara ini

```txt
imagex=gray_array60

import matplotlib.pyplot as plt

# Display the imagex array in a smaller scale using a smaller figure size
plt.figure(figsize=(2, 1))  # Adjust the size as needed
plt.imshow(imagex, cmap='gray')  # Add 'cmap' if it's a grayscale image
plt.axis('off')
plt.show()

for i in range(len(class_names)):
    print(class_names[i], '     \t',\
          int((lr.predict_proba(imagex.reshape(1,-1)) ).tolist()[0][i]*10000)/100)
```

yang mana akan menunjukkan hasil sepertti ini

```txt
boston_lettuce      	 0.0
green_leaf_lettuce       0.0
red_leaf_lettuce      	 0.0
red_swiss_chard      	 0.0
green_swiss_chard      	 0.0
romaine_lettuce      	 0.0
plain_parsley      	 0.0
curly_parsley      	 0.0
dill      	         0.0
beets      	         0.0
leeks      	         0.0
cilantro      	         0.0
spinach      	         0.0
collard      	         0.0
dandelion      	         0.0
green_kale      	 0.0
black_kale      	 0.0
carrot      	         0.0
endive      	         99.99
escarole      	         0.0
```

![Description of gif](https://github.com/FT-cnc/koko/blob/main/image7.png?raw=true)
